<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8">
<script src="./files/next_wei.js"></script>
<script src="./files/dict.js"></script>
<title>Document</title>
<style type="text/css">
	*{
		margin: 0px;
		padding: 0px;
	}
	h1{
		text-align: center;
		margin-top: 200px;
	}
	#word{
		width: 200px;
		height: 30px;
		margin: 10px auto;
		display: block;
		font-size: 20px;
	}
	.code{
		text-align: center;
		font-size: 21px;
	}

</style>
</head>
<body>
	<h1>为所欲为</h1>
	<input type="text" id="word">
	<pre class="code">
		<code class="code-content" id="result"></code>
	</pre>
<script>
	var event = document.createEvent('HTMLEvents');
	var el = document.getElementById('word');
	function calc(e){
		var last = el.value.substr(-1);
		var chain = [];
		while (last in next) {
			word = dict[next[last]];
			chain.push(word);
			last = word.substr(-1);
		}
		if (chain.length || last == '为') {
			chain.push("为所欲为");
			document.getElementById('result').innerHTML = chain.join(' -> ');
			document.getElementById('result').innerHTML += "<br/> 步数: " + chain.length;
		} else {
			document.getElementById('result').innerHTML = '"' + last + '"' + " 对不上";
		}
	}
	el.addEventListener("keyup", calc);
</script>

</body></html>